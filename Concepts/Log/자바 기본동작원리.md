자바는 “한 번 작성하면 어디서든 실행된다(Write Once, Run Anywhere)”는 특징을 가진 언어다.

이 특징을 가능하게 만드는 핵심 구조가 바로 JVM, JRE, JDK이다.

 

자바 프로그램은 다음과 같은 과정을 거쳐 실행된다.

    .java (소스 코드 작성) → javac 컴파일 → .class (바이트코드 생성) → JVM 실행 → 운영체제(OS)에서 실행

 

자바는 바로 기계어로 실행되지 않고, 바이트코드를 거쳐 JVM이 대신 실행해주기 때문에 운영체제에 독립적이다.
JVM (Java Virtual Machine): 바이트코드를 기계어로 변환하여 실행하는 가상 실행 엔진

자바와 운영체제 사이에서 중재자 역할을 하며, 자바가 운영체제에 구애받지 않고 실행될 수 있도록 해준다. 또한 가비지 컬렉터를 사용해 메모리 관리를 자동으로 수행하며, 다른 하드웨어와 다르게 레지스터 기반이 아닌 스택 기반으로 동작한다.

 

    JVM 내부 구조

 

 

 

1. 클래스 로더 (Class Loader): 프로그램 실행에 필요한 클래스들을 동적으로 로딩하고 준비

클래스 로더는 자바 프로그램이 실행될 때 필요한 클래스 파일(.class)을 JVM 메모리로 읽어온다. 또한 프로그램에서 특정 클래스가 처음 사용되면, 클래스 로더가 해당 바이트코드를 찾아 메서드 영역에 적재한다.

 

이 과정에서 클래스의 구조가 JVM 규칙에 맞는지 검증하고, 필요한 메모리를 할당하며, static변수와 같은 초기화 작업도 수행한다.

 

2. 실행 엔진 (Execution Engine): 바이트코드를 실제 동작 가능한 기계어로 변환하여 프로그램 실행

실행 엔진은 클래스 로더에 의해 적재된 바이트코드를 실제로 실행하는 역할을 한다. 바이트코드는 CPU가 직접 이해할 수 없기 때문에, 실행 엔진이 이를 기계어로 변환하여 실행한다.

    인터프리터 방식: 한 줄씩 해석하며 실행
    JIT(Just-In-Time) 컴파일러: 자주 실행되는 코드를 기계어로 미리 변환하여 성능 향상

3. 가비지 컬렉터 (Garbage Collector): 자동 메모리 관리 기능 수행

가비지 컬렉터는 힙 영역에서 더 이상 사용되지 않는 객체를 자동으로 탐지하고 메모리를 회수하는 역할을 한다.

 

자바에서는 개발자가 직접 메모리를 해제하지 않기 때문에, 참조되지 않는 객체를 GC가 찾아 제거함으로써 메모리 누수를 방지하고 효율적인 메모리 관리를 가능하게 한다.

 

가비지 컬렉터는 프로그램 실행 중 주기적으로 동작하며, 사용 중인 객체와 사용되지 않는 객체를 구분하여 메모리를 정리한다.

 

4. 메모리 영역 (Runtime Data Area)
종류 	역할 	특징
Method Area 	클래스 정보, static 변수, 메서드 코드 저장
상수 풀 (Constant Pool) 	1. 모든 스레드가 공유
2. 클래스 로딩 시 생성
Heap Area 	객체 저장 	1. 모든 스레드 공유
2. 가비지 컬렉터가 관리
3. 가장 큰 메모리 영역
Stack Area 	메서드 호출 시 생성되는 공간
지역변수, 매개변수, 메서드 호출 정보, 참조 변수 저장 	1. 스레드마다 별도 생성
2. 메서드 끝나면 자동 제거
3. LIFO 구조
PC Register 	현재 실행중인 명령어 주소 저장 	1. 스레드마다 하나씩 존재
2. 멀티스레드 실행을 가능하게 해줌
Native Method Stack 	자바가 아닌 네이티브 코드 실행 시 사용(C/C++) 	JNI(Java Native Interface) 사용 시 활용
JRE (Java Runtime Environment): 프로그램 실행 전용 패키지

만들어진 자바 프로그램(.class)을 실행할 때 필요하다. 코드를 새로 개발하거나 컴파일하는 기능은 없다.

JVM과 자바 기본 라이브러리(API)를 포함하고 있다. 
JDK (Java Development Kit): 개발 패키지

JDK는 자바 프로그램을 개발하기 위한 도구 모음이다.

자바 코드를 작성하고, 컴파일하고, 실행하고, 테스트하는 데 필요한 모든 기능을 포함하고 있다.

개발자가 자바 프로그램을 만들려면 반드시 JDK가 필요하다.

 

JRE와 컴파일러, 디버깅과 개발 도구들을 포함하고 있다.

JVM, JRE, JDK 정리
구분 	JDK 	JRE 	JVM
목적 	자바 개발 	자바 실행 환경 	자바 프로그램 실행
주요 기능 	컴파일 + 실행 	실행 	바이트코드 실행
컴파일 가능 여부 	가능 	불가능 	불가능
